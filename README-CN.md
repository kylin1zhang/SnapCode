# SnapCode - 代码图片识别工具

SnapCode 是一个智能代码图片识别工具，可以快速将代码截图转换为可编辑的文本代码。无论是来自在线教程、视频课程还是技术文档的代码，SnapCode 都能轻松将代码图片转换为可用的文本。

[English](README.md)

## 主要特性

1. **代码图片识别**
   - 拖放或选择图片文件
   - 批量导入处理
   - 智能处理 OCR 错误
   - 自动编程语言检测
   - 集成 OCR 识别功能

2. **长截图功能**
   - 自动滚动捕获长内容
   - 智能图像拼接
   - 透明遮罩精确选择
   - 系统托盘快速访问
   - 支持高分辨率显示器

3. **智能代码处理**
   - 自动识别编程语言（Python、C#、Java、SQL等）
   - 保持代码格式和结构
   - 特殊字符智能纠正
   - 支持中英文代码识别

4. **用户友好界面**
   - 基于 PyQt6 的现代界面
   - 系统托盘集成
   - 剪贴板支持（Ctrl+V 粘贴图片）
   - 实时预览和编辑

## 安装使用

### 方式一：直接运行
1. 从发布页面下载最新的 `SnapCode.exe`
2. 安装 Tesseract OCR（如果尚未安装）
3. 运行程序

### 方式二：源码运行
1. 克隆仓库
```bash
git clone https://github.com/kylin1zhang/SnapCode.git
```
2. 安装依赖
```bash
pip install -r requirements.txt
```
3. 运行程序
```bash
python main.py
```

## 系统要求

- Windows 10 或更高版本
- 100MB 可用磁盘空间
- 2GB 内存（推荐）
- 需要安装 Tesseract OCR

## 长截图使用指南

1. **快速访问**
   - 单击系统托盘图标立即开始长截图
   - 双击显示主窗口
   - 右键点击查看更多选项

2. **截图流程**
   - 使用透明遮罩选择区域
   - 自动滚动和捕获
   - 智能图像拼接
   - 保存或复制到剪贴板

3. **使用技巧**
   - 选择内容区域而不是整个窗口
   - 等待滚动完成再保存
   - 随时可按 ESC 取消操作

## 最近更新

- 改进长截图稳定性
- 提升代码识别准确度
- 添加系统托盘集成
- 修复高分辨率显示问题
- 改进中文支持

## 项目结构

```
SnapCode/
├── main.py              # 程序入口
├── requirements.txt     # 项目依赖
├── resources/          # 资源文件
│   └── icon.png        # 应用图标
└── src/               # 源代码
    ├── core/          # 核心模块
    │   ├── code_processor.py    # 代码处理
    │   ├── file_manager.py      # 文件管理
    │   ├── long_screenshot.py   # 长截图功能
    │   └── ocr_processor.py     # OCR识别
    ├── ui/            # UI相关
    │   ├── long_screenshot_window.py  # 长截图窗口
    │   └── main_window.py       # 主窗口
    └── utils/         # 工具类
        ├── win32_utils.py       # Windows API工具
        └── icon_generator.py    # 图标生成
```

## 技术特性

1. **核心功能**
   - OCR 文本识别
   - 基于特征的编程语言检测
   - 智能代码格式化和纠正
   - 长截图自动滚动和拼接

2. **界面设计**
   - 现代化 PyQt6 界面
   - 系统托盘快速访问
   - 拖放操作支持
   - 实时预览功能

3. **性能优化**
   - 多文件并行处理
   - 智能缓存机制
   - 内存使用优化
   - 高分辨率显示适配

## 使用建议

1. **图片要求**
   - 使用清晰的代码截图
   - 支持 PNG、JPG 格式
   - 分辨率越高识别效果越好

2. **最佳实践**
   - 优先使用浅色背景深色文字
   - 确保代码段完整
   - 识别后检查特殊字符
   - 长截图时选择内容区域而非整个窗口

## 开源协议

MIT License 